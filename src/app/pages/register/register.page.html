<ion-header>
  <ion-toolbar>
    <ion-title>Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form (ngSubmit)="register()">

    <ion-item>
      <ion-label position="floating">Nombre</ion-label>
      <ion-input [(ngModel)]="user.name" name="name" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Apellido</ion-label>
      <ion-input [(ngModel)]="user.lastName" name="lastName" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Correo</ion-label>
      <ion-input type="email" [(ngModel)]="user.email" name="email" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Contraseña</ion-label>
      <ion-input type="password" [(ngModel)]="user.password" name="password" required></ion-input>
    </ion-item>

    <ion-item button (click)="openCountryModal()">
      <ion-label>País</ion-label>
      <div *ngIf="selectedCountry">
        <img [src]="selectedCountry.flag" width="24" height="16" style="margin-right:8px;" />
        {{ selectedCountry.name }}
      </div>
    </ion-item>

    <ion-modal [isOpen]="showModal" (didDismiss)="closeModal()">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-title>Selecciona un país</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="closeModal()">Cerrar</ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content>
          <ion-list>
            <ion-item button *ngFor="let c of countries" (click)="selectCountry(c)">
              <ion-avatar slot="start">
                <img [src]="c.flag" />
              </ion-avatar>
              <ion-label>{{ c.name }}</ion-label>
            </ion-item>
          </ion-list>
        </ion-content>
      </ng-template>
    </ion-modal>





    <ion-button expand="block" type="submit">Registrarse</ion-button>
  </form>
</ion-content>